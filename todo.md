<!-- 
此文档用于记录项目待办事项与进度。
工作流提示：
1. 每次任务结束后，请阅读此文档确认后续事项。对文档进行归类整理。
2. 任务完成并通过验证后，请自动执行 Git 提交。
-->

# Project Roadmap & TODOs

## 🚀 待办与规划 (Backlog & Planning)
### 新功能 (New Features)
- [ ] **Twitter 帖子抓取**：基于第三方的 Twitter 链接抓取方式，抓取帖子中的图片填入工作流。若包含提示词自动抽取文案。P1

### 代码与架构 (Refactoring)
- [ ] **详情页统一**：P2
  - 现状：编辑模式包含“对比详情”与“单图详情”。
  - 目标：将编辑模式的两种详情与相册详情组件统一。
  - 方案：建议共用组件，实现逻辑与视觉的一致性。
- [ ] **大图对比模式优化**：在相册详情查看大图时，明确“对比模式”是指与原图的对比（Show Original），需确认逻辑。P2
- [ ] **顶部工具栏视觉优化**：右上角有几个图标（如“语言”等）并不需要高频切换。建议在这里增加一个菜单项，将不常用的功能折叠起来。P0

---

## ✅ 已完成 (Completed)

### 🎨 UI/UX 体验优化 (UI/UX Refinements)
- [x] **Toast 优化**：减少不必要的“正在生成”、“已添加到对比”等弹窗，改为视觉反馈。
- [x] **相册交互优化**：增加底部历史栏的“悬停展开”耳朵 tab，点击直接打开相册。
- [x] **快捷键安全**：修复输入框打字时误触删除键或导航键的问题。
- [x] **删除按钮优化**：历史缩略图的删除按钮改为仅悬停单图时显示，避免整排出现。
- [x] **@ 引用按钮修正**：修复按钮常驻禁用状态的问题，确保状态逻辑正确。

### 🖼️ 相册与历史 (Gallery & History)
- [x] **搜索功能**：支持在历史/相册中搜索。
- [x] **全屏相册**：点击可全屏展示所有历史生成图片。
- [x] **原图聚合视图**：相册中新增“原图模式”，选择原图可查看衍生出的所有生成图。
- [x] **对比模式重构**：重写了右键添加对比的逻辑，支持左键选择当前图，右键选择对比图。
- [x] **右键快捷对比**：历史记录右键直接进入对比模式，移除冗余子菜单。
- [x] **删除功能**：支持在相册和大图模式下删除图片。

### ⚡️ 核心功能与流程 (Core & Workflow)
- [x] **多线程生成**：支持生成过程中继续提交新任务，互不阻塞。
- [x] **图片元信息与拖拽**：下载图片包含提示词元数据；拖入含元数据的图片可自动填入提示词。
- [x] **智能分析与建议**：提示词输入后的差异高亮分析，支持直接应用修改或生成。
- [x] **逆向功能菜单**：底部逆向按钮合并为展开菜单，支持多种逆向模式。
- [x] **剪贴板交互**：在文本框聚焦时粘贴图片，自动作为参考图上传。
- [x] **高清下载**：支持官方高清格式下载。

### ⚙️ 设置与工程 (Settings & Engineering)
- [x] **多代理配置**：支持 Key 列表、官方/自定义代理切换、模型名称与 ID 自定义。
- [x] **自动修改日志**：Git commit 时自动记录修改日志。

### 🔍 搜索与文档 (v2.8.0 Search & Docs)
- [x] **中英文支持完善**：补全近期新增功能的中英文国际化支持。
- [x] **搜索入口**：在编辑模式顶部增加全球搜索入口，点击后打开相册。
- [x] **交互优化**：底部历史记录悬停时，增强“小耳朵”Tab 的视觉引导（橙色边框 + 跳动箭动画）。
- [x] **文档更新**：整理近期功能更新和提交要点到更新文档和帮助文档。
说